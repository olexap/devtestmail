# Minimal Dovecot configuration for a local test mail server.
# A single self-contained file â€“ do not include the Debian conf.d defaults.

protocols = imap
listen = *

# Mail storage: Maildir under each user's home directory
mail_location = maildir:~/Maildir

# Authentication: plain-text is fine for a local test environment
disable_plaintext_auth = no
auth_mechanisms = plain login

passdb {
  driver = passwd-file
  args = /etc/dovecot/users
}

userdb {
  driver = passwd-file
  args = /etc/dovecot/users
}

service imap-login {
  inet_listener imap {
    port = 143
  }
}

service auth {
  unix_listener auth-userdb {
    mode = 0600
  }
}

# Log directly to stderr (no syslog needed inside Docker)
log_path = /dev/stderr
info_log_path = /dev/stderr
